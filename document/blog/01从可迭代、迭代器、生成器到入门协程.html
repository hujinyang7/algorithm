<!DOCTYPE html>
<!-- saved from url=(0026)https://iswbm.com/116.html -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Python 并发编程（07）：从可迭代、迭代器、生成器到入门协程</title>
<meta name="description" content="从今天开始，我们将开始进入Python的难点，那就是协程。">
<meta name="keywords" content="Python,协程,并发,计算机,迭代器">
<!--link rel="apple-touch-icon" href="https://iswbm.com/wp-content/themes/JieStyle-Two-master/images/icon_32.png"-->
<link rel="apple-touch-icon" sizes="152x152" href="https://iswbm.com/wp-content/themes/JieStyle-Two-master/images/icon_152.png">
<link rel="apple-touch-icon" sizes="167x167" href="https://iswbm.com/wp-content/themes/JieStyle-Two-master/images/icon_167.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://iswbm.com/wp-content/themes/JieStyle-Two-master/images/icon_180.png">
<!--link rel="icon" href="https://iswbm.com/wp-content/themes/JieStyle-Two-master/images/icon_32.png" type="image/x-icon"-->
<link rel="stylesheet" href="./01从可迭代、迭代器、生成器到入门协程_files/bootstrap.min.css">
<link rel="stylesheet" href="./01从可迭代、迭代器、生成器到入门协程_files/fontawesome.min.css">
<link rel="stylesheet" href="./01从可迭代、迭代器、生成器到入门协程_files/style.css">
<link rel="pingback" href="https://iswbm.com/xmlrpc.php">
<meta name="robots" content="max-image-preview:large">
<link rel="stylesheet" id="wp-block-library-css" href="./01从可迭代、迭代器、生成器到入门协程_files/style.min.css" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel="stylesheet" id="dashicons-css" href="./01从可迭代、迭代器、生成器到入门协程_files/dashicons.min.css" type="text/css" media="all">
<link rel="stylesheet" id="post-views-counter-frontend-css" href="./01从可迭代、迭代器、生成器到入门协程_files/frontend.css" type="text/css" media="all">
<link rel="stylesheet" id="toc-screen-css" href="./01从可迭代、迭代器、生成器到入门协程_files/screen.min.css" type="text/css" media="all">
<link rel="stylesheet" id="Katex-css" href="./01从可迭代、迭代器、生成器到入门协程_files/katex.min.css" type="text/css" media="all">
<link rel="stylesheet" id="Emojify.js-css" href="./01从可迭代、迭代器、生成器到入门协程_files/emojify.min.css" type="text/css" media="all">
<link rel="stylesheet" id="prism-theme-style-css" href="./01从可迭代、迭代器、生成器到入门协程_files/prism-tomorrow.css" type="text/css" media="all">
<link rel="stylesheet" id="prism-plugin-toolbar-css" href="./01从可迭代、迭代器、生成器到入门协程_files/prism-toolbar.css" type="text/css" media="all">
<link rel="stylesheet" id="wpfla-style-handle-css" href="./01从可迭代、迭代器、生成器到入门协程_files/style(1).css" type="text/css" media="all">
<link rel="stylesheet" id="xs-front-style-css" href="./01从可迭代、迭代器、生成器到入门协程_files/frontend(1).css" type="text/css" media="all">
<link rel="stylesheet" id="xs_login_font_login_css-css" href="./01从可迭代、迭代器、生成器到入门协程_files/font-icon.css" type="text/css" media="all">
<link rel="stylesheet" id="ppress-frontend-css" href="./01从可迭代、迭代器、生成器到入门协程_files/frontend.min.css" type="text/css" media="all">
<link rel="stylesheet" id="ppress-flatpickr-css" href="./01从可迭代、迭代器、生成器到入门协程_files/flatpickr.min.css" type="text/css" media="all">
<link rel="stylesheet" id="ppress-select2-css" href="./01从可迭代、迭代器、生成器到入门协程_files/select2.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="./01从可迭代、迭代器、生成器到入门协程_files/pagenavi-css.css" type="text/css" media="all">
<meta name="generator" content="Site Kit by Google 1.50.0"><style type="text/css">div#toc_container {width: 100%;}div#toc_container ul li {font-size: 100%;}</style><!-- Analytics by WP-Statistics v13.1.5 - https://wp-statistics.com/ -->

		<style>
			#wp-admin-bar-pvc-post-views .pvc-graph-container { padding-top: 6px; padding-bottom: 6px; position: relative; display: block; height: 100%; box-sizing: border-box; }
			#wp-admin-bar-pvc-post-views .pvc-line-graph {
				display: inline-block;
				width: 1px;
				margin-right: 1px;
				background-color: #ccc;
				vertical-align: baseline;
			}
			#wp-admin-bar-pvc-post-views .pvc-line-graph:hover { background-color: #eee; }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-0 { height: 1% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-1 { height: 5% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-2 { height: 10% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-3 { height: 15% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-4 { height: 20% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-5 { height: 25% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-6 { height: 30% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-7 { height: 35% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-8 { height: 40% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-9 { height: 45% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-10 { height: 50% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-11 { height: 55% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-12 { height: 60% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-13 { height: 65% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-14 { height: 70% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-15 { height: 75% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-16 { height: 80% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-17 { height: 85% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-18 { height: 90% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-19 { height: 95% }
			#wp-admin-bar-pvc-post-views .pvc-line-graph-20 { height: 100% }
		</style><link rel="icon" href="https://iswbm.com/wp-content/uploads/2020/09/Snipaste_2020-09-25_10-47-54-150x150.png" sizes="32x32">
<link rel="icon" href="https://iswbm.com/wp-content/uploads/2020/09/Snipaste_2020-09-25_10-47-54.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://iswbm.com/wp-content/uploads/2020/09/Snipaste_2020-09-25_10-47-54.png">
<meta name="msapplication-TileImage" content="https://iswbm.com/wp-content/uploads/2020/09/Snipaste_2020-09-25_10-47-54.png">
<style id="sccss">#write a.md-toc-inner {
    line-height: 1.6;
    white-space: pre-line;
    border-bottom: none;
}

#write a:hover {
    border-bottom: 2px solid #f22f27;
    color: #cc1616;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}

h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}

h1 tt,
h1 code {
    font-size: inherit !important;
}

h2 tt,
h2 code {
    font-size: inherit !important;
}

h2.uptop {
	border-bottom: 1px green;
}


.uptop::before {
    content: ' '!important;
    color: #f22f27;
}

h3 tt,
h3 code {
    font-size: inherit !important;
}

h4 tt,
h4 code {
    font-size: inherit !important;
}

h5 tt,
h5 code {
    font-size: inherit !important;
}

h6 tt,
h6 code {
    font-size: inherit !important;
}

h2 a,
h3 a {
    color: #34495e;
}


h2 {
    margin: 2em auto 1.4em;
    /* padding-left: 10px; */
    /* display:inline-block; */
    line-height: 1.4;
    font-size: 1.8em;
    /* border-left: 9px solid var(--main-6); */
    /* border-bottom: 1px solid #ddd; */
    border-bottom: 1px solid #f22f27;
}

h2::before {
    content: '# '!important;
    color: #f22f27;
}

h3 {
    font-size: 1.4em;
    line-height: 1.43;
    margin: 1.6em auto 1.2em;
    padding-left: 9px;
    border-left: 5px solid #f22f27;
}


/* 三级四级标题点击后左边的提示图标 */

#write>h3.md-focus:before,



/* 引用文字 */
.view-content blockquote p {
    color: #353535;
    font-size: 16px;
    margin: 0 10px;
    display: block;
}

.view-content .blockquote:after {
    content: "”";
    float: right;
    display: block;
    font-size: 2em;
    color: rgb(248, 57, 41);
    font-family: Arial, serif;
    line-height: 1em;
    font-weight: 700;
}

/* 二维码显示 */
header .gongzhonghao {
    color: #fff;
    font-size: 14px;
    position: absolute;
    bottom: 30px;
}

header .weixinhao {
    color: #fff;
    font-size: 14px;
    position: absolute;
    bottom: 180px;
}


/* 表格样式 */
table {
    padding: 0;
    word-break: initial;
}

table tr {
    border-top: 1px #f22f27;
    margin: 0;
    padding: 0;
}

table tr:nth-child(2n),
thead {
    background-color: #fafafa;
}

table tr th {
    font-weight: bold;
    border: 1px solid #f22f27;
    border-bottom: 0;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}

table tr td {
    border: 1px solid #f22f27;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}

table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}

table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

/* 代码框 */
#write .md-fences {
    border: 1px solid #7a7a7a;
    -webkit-font-smoothing: initial;
    margin: 2rem 0 !important;
    /* padding: 0.3rem 0 !important; */
    padding: 3px 5px;
    line-height: 1.55rem;
    border-radius: 10px;
    font-family: 'Roboto Mono', 'Source Sans Pro', 'Microsoft YaHei', '微软雅黑' !important;
    font-size: 0.9rem;
    word-wrap: normal;
}

#write [mdtype="math_block"] {
    font-size: 1.2rem;
}

#write .CodeMirror-wrap .CodeMirror-code pre {
    padding-left: 12px;
    line-height: 1.55rem;
}

.cm-s-inner .CodeMirror-linenumber {
    width: 2ch !important;
    color: rgba(128, 128, 255, 0.8);
}

#write .CodeMirror-cursors .CodeMirror-cursor {
    border-left: 2px solid #ff887a;
}

/* 图片 */
img {
    border-radius: 4px;
    border-top:1px solid #ccc;
    border-right:1px solid #666;
    border-bottom:2px solid #999;
    border-left:1px solid #ccc;
    padding: 7px;
}

.gongzhonghao img {
    padding: 0px;
	  border-top:0px;
    border-right:0px;
    border-bottom:0px;
    border-left:0px;
}


/*列表*/



ul li::marker {
  color: red;
  font-size: 1.5em;
}

ol li::marker {
  color: #db4d52;
  font-size: 15px;
}
</style><style type="text/css">
a{color:#1e73be}
a:hover{color:#2980b9!important}
#header{background-color:#1e73be}
.widget .widget-title::after{background-color:#1e73be}
.uptop{border-left-color:#1e73be}
#titleBar .toggle:before{background:#1e73be}
</style>
</head>

<body>
<header id="header">
    <div class="avatar"><a href="https://iswbm.com/" title="明哥教程" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><img src="./01从可迭代、迭代器、生成器到入门协程_files/20200925130928.png" alt="明哥教程" class="img-circle" width="50%"></a></div>
    <h1 id="name">明哥教程</h1>
    <div class="sns">
        <a href="https://iswbm.com/feed" target="_blank" rel="nofollow" data-toggle="tooltip" data-placement="top" title="RSS" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><i class="fas fa-rss"></i></a>                                <a href="https://github.com/iswbm" target="_blank" rel="nofollow" data-toggle="tooltip" data-placement="top" title="GitHub" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><i class="fab fa-github-alt"></i></a>    </div>
    <div class="nav">
        <ul><li><a href="https://iswbm.com/" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">首页</a></li>
<li><a href="https://github.com/iswbm" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">明哥的作品</a>
<ul class="sub-menu">
	<li><a href="https://k8s.iswbm.com/" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">大白话 K8S 教程</a></li>
	<li><a title="Golang 编程时光" target="_blank" rel="noopener" href="https://golang.iswbm.com/" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Golang 编程时光</a></li>
	<li><a href="https://go-interview.iswbm.com/" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Go语言面试宝典</a></li>
	<li><a title="Python 中文指南" target="_blank" rel="noopener" href="https://python.iswbm.com/" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Python 中文指南</a></li>
	<li><a href="https://magic.iswbm.com/" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Python 黑魔法指南</a></li>
	<li><a title="PyCharm 中文指南" target="_blank" rel="noopener" href="https://pycharm.iswbm.com/" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">PyCharm 中文指南</a></li>
</ul>
</li>
<li><a rel="httpsiswbmcomcategorypython-tutorial" href="https://iswbm.com/category/python" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Python 教程</a>
<ul class="sub-menu">
	<li><a href="https://iswbm.com/python-toc" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Python 基础教程</a></li>
	<li><a title="Python 高手进阶" href="https://iswbm.com/category/python/advanced-python" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Python 高手进阶</a></li>
</ul>
</li>
<li><a href="https://iswbm.com/category/golang" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Golang 教程</a>
<ul class="sub-menu">
	<li><a href="https://iswbm.com/golang-basic" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">零基础学Go语言</a></li>
	<li><a href="https://iswbm.com/golang-library" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Go 语言标准库</a></li>
	<li><a href="https://iswbm.com/golang-interview-qa" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Go语言面试题 100 讲</a></li>
	<li><a href="https://iswbm.com/algorithm-and-data-structure" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">搞定算法与数据结构</a></li>
</ul>
</li>
</ul>    </div>
        <!--div class="weixinhao">
        <img src="http://image.iswbm.com/20200930135845.png" alt="明哥的微信" width="50%">
        <p>加明哥微信</p>
    </div -->
    <div class="gongzhonghao">
        <img src="./01从可迭代、迭代器、生成器到入门协程_files/20220212155716.png" alt="微信公众号" width="50%">
        <p>明哥公众号</p>
    </div>
    </header>
<div id="main">

    <article class="col-md-8 col-md-offset-2 view clearfix">
        <h1 class="view-title">Python 并发编程（07）：从可迭代、迭代器、生成器到入门协程</h1>
        <div class="view-meta">
            <span>作者: 王炳明</span>
            <span>分类: <a href="https://iswbm.com/category/python/advanced-python" rel="category tag">Python 高手进阶</a></span>
            <span>发布时间: 2020-10-09 08:58</span>
            <!--span>累计浏览量：<span class="post-views-count">2,272</span>
</span-->
			
			<span>热度：1,397</span>
            <span></span>
        </div>
		<div id="container">
        <div class="view-content">
<div id="toc_container" class="no_bullets"><p class="toc_title">本文目录</p><ul class="toc_list"><li><a href="https://iswbm.com/116.html#1">1. 可迭代、迭代器、生成器</a></li><li><a href="https://iswbm.com/116.html#2">2. 如何运行/激活生成器</a></li><li><a href="https://iswbm.com/116.html#3">3. 生成器的执行状态</a></li><li><a href="https://iswbm.com/116.html#4">4. 生成器的异常处理</a></li><li><a href="https://iswbm.com/116.html#5_yield">5. 从生成器过渡到协程：yield</a></li></ul></div>
<p>从今天开始，我们将开始进入Python的难点，那就是<code>协程</code>。</p>
<p>为了写明白协程的知识点，我查阅了网上的很多相关资料。发现很难有一个讲得系统，讲得全面的文章，导致我们在学习的时候，往往半知半解，学完还是一脸懵逼。</p>
<p>学习协程的第一门课程，是要认识<code>生成器</code>，有了<code>生成器</code>的基础，才能更好地理解<code>协程</code>。</p>
<p>如果你是新手，那么你应该知道<code>迭代器</code>，对<code>生成器</code>应该是比较陌生的吧。没关系，看完这系列文章，你也能从小白成功过渡为Ptyhon高手。</p>
<h2><span id="1">1. 可迭代、迭代器、生成器</span></h2>
<p>初学Python的时候，对于这三货真的是傻傻分不清。甚至还认为他们是等价的。</p>
<p>其实，他们是不一样的。</p>
<p>可迭代的对象，很好理解，我们很熟悉的：<code>字符串</code>，<code>list</code>，<code>dict</code>，<code>tuple</code>，<code>deque</code>等</p>
<p>为了验证我说的，需要借助<code>collections.abc</code>这个模块（Python2没有），使用<code>isinstance()</code>来类别一个对象是否是可迭代的（<code>Iterable</code>），是否是迭代器（<code>Iterator</code>），是否是生成器（<code>Generator</code>）。</p>
<p>这几个判断方法，在这里适用，但并不是绝对适用，原因见后面补充说明。</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token keyword">import</span> collections
<span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterable<span class="token punctuation">,</span> Iterator<span class="token punctuation">,</span> Generator

<span class="token comment"># 字符串</span>
astr <span class="token operator">=</span> <span class="token string">"XiaoMing"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"字符串：{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>astr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>astr<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>astr<span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>astr<span class="token punctuation">,</span> Generator<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 列表</span>
alist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"列表：{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>alist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>alist<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>alist<span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>alist<span class="token punctuation">,</span> Generator<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 字典</span>
adict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"小明"</span><span class="token punctuation">,</span> <span class="token string">"gender"</span><span class="token punctuation">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"字典：{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>adict<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>adict<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>adict<span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>adict<span class="token punctuation">,</span> Generator<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># deque</span>
adeque<span class="token operator">=</span>collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token string">'abcdefg'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"deque：{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>adeque<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>adeque<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>adeque<span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>adeque<span class="token punctuation">,</span> Generator<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>输出结果</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python">字符串：XiaoMing
<span class="token boolean">True</span>
<span class="token boolean">False</span>
<span class="token boolean">False</span>

列表：<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span>
<span class="token boolean">True</span>
<span class="token boolean">False</span>
<span class="token boolean">False</span>

字典：<span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token string">'gender'</span><span class="token punctuation">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
<span class="token boolean">True</span>
<span class="token boolean">False</span>
<span class="token boolean">False</span>

deque：deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token boolean">False</span>
<span class="token boolean">False</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>从结果来看，这些可迭代对象都不是迭代器，也不是生成器。它们有一个共同点，就是它们都可以使用<code>for</code>来循环。这一点，大家都知道，我们就不去验证了。</p>
<p><strong>关于可迭代对象，有几点需要补充说明</strong></p>
<ol>
<li>可以通过，<code>dir()</code>方法查看，若有有<code>__iter__</code>说明是可迭代的，但是如果没有，也不能说明不可迭代，原因见第二条。</li>
<li>判断是否可迭代，不能仅看是否有<code>__iter__</code> 来草率决定，因为只实现了<code>__getitem__</code> 方法的也有可能是可迭代的。因为当没有<code>__iter__</code>时， Python 解释器会去找<code>__getitem__</code>，尝试按顺序（从索引0开始）获取元素，不抛异常，即是可迭代。</li>
<li>所以，最好的判断方法应该是通过 <code>for循环</code>或者<code>iter()</code> 去真实运行。</li>
</ol>
<p><img title="Python 并发编程（07）：从可迭代、迭代器、生成器到入门协程" alt="Python 并发编程（07）：从可迭代、迭代器、生成器到入门协程" src="./01从可迭代、迭代器、生成器到入门协程_files/20190527123516.png"></p>
<p>接下来是，<code>迭代器</code>。<br>
对比可迭代对象，<code>迭代器</code>其实就只是多了一个函数而已。就是<code>__next__()</code>，我们可以不再使用<code>for</code>循环来间断获取元素值。而可以直接使用next()方法来实现。</p>
<p>迭代器，是在可迭代的基础上实现的。要创建一个迭代器，我们首先，得有一个可迭代对象。<br>
现在就来看看，如何创建一个可迭代对象，并以可迭代对象为基础创建一个迭代器。</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterable<span class="token punctuation">,</span> Iterator<span class="token punctuation">,</span> Generator

<span class="token keyword">class</span> <span class="token class-name">MyList</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 定义可迭代对象类</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>end <span class="token operator">=</span> num  <span class="token comment"># 上边界</span>

    <span class="token comment"># 返回一个实现了__iter__和__next__的迭代器类的实例</span>
    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> MyListIterator<span class="token punctuation">(</span>self<span class="token punctuation">.</span>end<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">MyListIterator</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 定义迭代器类</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>data <span class="token operator">=</span> end  <span class="token comment"># 上边界</span>
        self<span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment"># 返回该对象的迭代器类的实例；因为自己就是迭代器，所以返回self</span>
    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self

    <span class="token comment"># 迭代器类必须实现的方法，若是Python2则是next()函数</span>
    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>start <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>data<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>start <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>start <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">raise</span> StopIteration


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    my_list <span class="token operator">=</span> MyList<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># 得到一个可迭代对象</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span>
    <span class="token comment"># 迭代</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> my_list<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

    my_iterator <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment"># 得到一个迭代器</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>my_iterator<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>my_iterator<span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>

    <span class="token comment"># 迭代</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>my_iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>my_iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>my_iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>my_iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>my_iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>输出</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>

<span class="token boolean">True</span>
<span class="token boolean">False</span>

<span class="token boolean">True</span>
<span class="token boolean">True</span>

<span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>如果上面的代码太多，也可以看这边，你更能理解。</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterator

aStr <span class="token operator">=</span> <span class="token string">'abcd'</span>  <span class="token comment"># 创建字符串，它是可迭代对象</span>
aIterator <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>aStr<span class="token punctuation">)</span>  <span class="token comment"># 通过iter()，将可迭代对象转换为一个迭代器</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>aIterator<span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>aIterator<span class="token punctuation">)</span>  <span class="token comment"># a</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>aIterator<span class="token punctuation">)</span>  <span class="token comment"># b</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>aIterator<span class="token punctuation">)</span>  <span class="token comment"># c</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>aIterator<span class="token punctuation">)</span>  <span class="token comment"># d</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p><strong>补充说明</strong>:</p>
<ol>
<li>迭代器，是其内部实现了，<code>__next__</code> 这个魔术方法。(Python3.x)</li>
<li>可以通过，<code>dir()</code>方法来查看是否有<code>__next__</code>来判断一个变量是否是迭代器的。</li>
</ol>
<p>接下来，是我们的重点，<code>生成器</code>。</p>
<p>生成器的概念在 Python 2.2 中首次出现，之所以引入生成器，是为了实现一个在计算下一个值时不需要浪费空间的结构。</p>
<p>前面我们说，迭代器，是在可迭代的基础上，加了一个next()方法。<br>
而生成器，则是在迭代器的基础上（<code>可以用for循环，可以使用next()</code>），再实现了<code>yield</code>。</p>
<p><code>yield</code> 是什么东西呢，它相当于我们函数里的return。在每次next()，或者for遍历的时候，都会yield这里将新的值返回回去，并在这里阻塞，等待下一次的调用。正是由于这个机制，才使用生成器在Python编程中大放异彩。实现节省内存，实现异步编程。</p>
<p>如何创建一个生成器，主要有如下两种方法</p>
<ul>
<li>使用列表生成式</li>
</ul>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token comment"># 使用列表生成式，注意不是[]，而是()</span>
L <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> Generator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<ul>
<li>实现yield的函数</li>
</ul>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token comment"># 实现了yield的函数</span>
<span class="token keyword">def</span> <span class="token function">mygen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    now <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> now <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">yield</span> now
        now <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    gen <span class="token operator">=</span> mygen<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>gen<span class="token punctuation">,</span> Generator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>可迭代对象和迭代器，是将所有的值都生成存放在内存中，而<code>生成器</code>则是需要元素才临时生成，节省时间，节省空间。</p>
<h2><span id="2">2. 如何运行/激活生成器</span></h2>
<p>由于生成器并不是一次生成所有元素，而是一次一次的执行返回，那么如何刺激生成器执行(或者说激活)呢？</p>
<p>激活主要有两个方法</p>
<ul>
<li>使用<code>next()</code></li>
<li>使用<code>generator.send(None)</code></li>
</ul>
<p>分别看下例子，你就知道了。</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token keyword">def</span> <span class="token function">mygen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    now <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> now <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">yield</span> now
        now <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    gen <span class="token operator">=</span> mygen<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>

    <span class="token comment"># 通过交替执行，来说明这两种方法是等价的。</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>gen<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>gen<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>输出</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2><span id="3">3. 生成器的执行状态</span></h2>
<p>生成器在其生命周期中，会有如下四个状态</p>
<blockquote><p>
  <code>GEN_CREATED</code>   # 等待开始执行<br>
  <code>GEN_RUNNING</code>    # 解释器正在执行（只有在多线程应用中才能看到这个状态）<br>
  <code>GEN_SUSPENDED</code>  # 在yield表达式处暂停<br>
  <code>GEN_CLOSED</code>     # 执行结束
</p></blockquote>
<p>通过代码来感受一下，为了不增加代码理解难度，<code>GEN_RUNNING</code>这个状态，我就不举例了。有兴趣的同学，可以去尝试一下多线程。若有疑问，可在后台回复我。</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token keyword">from</span> inspect <span class="token keyword">import</span> getgeneratorstate

<span class="token keyword">def</span> <span class="token function">mygen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    now <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> now <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">yield</span> now
        now <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    gen <span class="token operator">=</span> mygen<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>getgeneratorstate<span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>getgeneratorstate<span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>
    gen<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 手动关闭/结束生成器</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>getgeneratorstate<span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>输出</p>
<pre><code class="line-numbers">GEN_CREATED
0
GEN_SUSPENDED
1
GEN_CLOSED
</code></pre>
<h2><span id="4">4. 生成器的异常处理</span></h2>
<p>在生成器工作过程中，若生成器不满足生成元素的条件，就<code>会</code>/<code>应该</code> 抛出异常（<code>StopIteration</code>）。</p>
<p>通过列表生成式构建的生成器，其内部已经自动帮我们实现了抛出异常这一步。不信我们来看一下。<br>
<img title="Python 并发编程（07）：从可迭代、迭代器、生成器到入门协程" alt="Python 并发编程（07）：从可迭代、迭代器、生成器到入门协程" src="./01从可迭代、迭代器、生成器到入门协程_files/5affd48c34e3f.png"></p>
<p>所以我们在自己定义一个生成器的时候，我们也应该在不满足生成元素条件的时候，抛出异常。<br>
拿上面的代码来修改一下。</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token keyword">def</span> <span class="token function">mygen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    now <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> now <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">yield</span> now
        now <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">raise</span> StopIteration

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    gen <span class="token operator">=</span> mygen<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span>
    <span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span>
    <span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<h2><span id="5_yield">5. 从生成器过渡到协程：yield</span></h2>
<p>通过上面的介绍，我们知道生成器为我们引入了暂停函数执行（<code>yield</code>）的功能。当有了暂停的功能之后，人们就想能不能在生成器暂停的时候向其发送一点东西（其实上面也有提及：<code>send(None)</code>）。这种向暂停的生成器发送信息的功能通过 <code>PEP 342</code> 进入 <code>Python 2.5</code> 中，并催生了 <code>Python</code> 中<code>协程</code>的诞生。根据 <code>wikipedia</code> 中的定义</p>
<blockquote><p>
  协程是为非抢占式多任务产生子程序的计算机程序组件，协程允许不同入口点在不同位置暂停或开始执行程序。
</p></blockquote>
<p>注意从本质上而言，协程并不属于语言中的概念，而是编程模型上的概念。</p>
<p>协程和线程，有<code>相似点</code>，多个协程之间和线程一样，只会交叉串行执行；也有<code>不同点</code>，线程之间要频繁进行切换，加锁，解锁，从复杂度和效率来看，和协程相比，这确是一个痛点。协程通过使用 <code>yield</code> 暂停生成器，可以将程序的执行流程交给其他的子程序，从而实现不同子程序的之间的交替执行。</p>
<p>下面通过一个简明的演示来看看，如何向生成器中发送消息。</p>
<div class="code-toolbar"><pre class="  language-python"><code class=" line-numbers  language-python"><span class="token keyword">def</span> <span class="token function">jumping_range</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">:</span>
    index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> index <span class="token operator">&lt;</span> N<span class="token punctuation">:</span>
        <span class="token comment"># 通过send()发送的信息将赋值给jump</span>
        jump <span class="token operator">=</span> <span class="token keyword">yield</span> index
        <span class="token keyword">if</span> jump <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            jump <span class="token operator">=</span> <span class="token number">1</span>
        index <span class="token operator">+=</span> jump

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    itr <span class="token operator">=</span> jumping_range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>itr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>itr<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>itr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>itr<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="toolbar"><div class="toolbar-item"><span>Python</span></div><div class="toolbar-item"><button>Copy</button></div></div></div>
<p>输出。</p>
<pre><code class="line-numbers">0
2
3
2
</code></pre>
<p>这里解释下为什么这么输出。<br>
重点是<code>jump = yield index</code>这个语句。</p>
<p>分成两部分：</p>
<ul>
<li><code>yield index</code> 是将index <code>return</code>给外部调用程序。</li>
<li><code>jump = yield</code> 可以接收外部程序通过send()发送的信息，并赋值给<code>jump</code></li>
</ul>
<p>以上这些，都是讲协程并发的<strong>基础必备知识</strong>，<strong>请一定要亲自去实践并理解它</strong>，不然后面的内容，将会变得枯燥无味，晦涩难懂。</p>
<p>下一章，我将讲一个Python3.5新引入的语法：<code>yield from</code>。篇幅也比较多，所以就单独拿出来讲。</p>
		</div>
		<!--div class="gongzhonghao">
        	<img class=”wp-image-558 size-thumbnail” src="http://image.iswbm.com/20210118230123.png" alt="明哥公众号" width=”150″ height=”150″ />
        </div-->
		
        </div>
		
        <section class="view-tag">
            <div class="pull-left"><i class="fas fa-tags"></i> <a href="https://iswbm.com/tag/python" rel="tag">Python</a><a href="https://iswbm.com/tag/%e5%8d%8f%e7%a8%8b" rel="tag">协程</a><a href="https://iswbm.com/tag/%e5%b9%b6%e5%8f%91" rel="tag">并发</a><a href="https://iswbm.com/tag/%e8%ae%a1%e7%ae%97%e6%9c%ba" rel="tag">计算机</a><a href="https://iswbm.com/tag/%e8%bf%ad%e4%bb%a3%e5%99%a8" rel="tag">迭代器</a></div>
        </section>
                <section class="support-author">
            <p>文章有帮助，请作者喝杯咖啡？</p>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal"><i class="fas fa-gift"></i> 赞赏支持</button>
        </section>
                <section id="comments">
            	<div id="respond" class="comment-respond">
		<h4 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://iswbm.com/116.html#respond" style="display:none;">取消回复</a></small></h4><p class="must-log-in">要发表评论，您必须先<a href="https://iswbm.com/fuck-login-fuck-hack?redirect_to=https%3A%2F%2Fiswbm.com%2F116.html">登录</a>。</p>	</div><!-- #respond -->
	        </section>
    </article>

    <section class="col-md-8 col-md-offset-2 clearfix">
    <div class="read">
        <div class="read-head"><i class="fas fa-book"></i> 更多阅读</div>
        <div class="read-list row">
            <div class="col-md-6">
                <ul>
                    
<li><a href="https://iswbm.com/677.html" target="_blank">划时代的 Python 包管理器：PDM 教程 -- 入门篇</a></li>
<li><a href="https://iswbm.com/678.html" target="_blank">基于 utterance 插件为博客部署评论系统（适用于 Sphinx 文档）</a></li>
<li><a href="https://iswbm.com/684.html" target="_blank">划时代的 Python 包管理器：PDM 教程 — 原理篇</a></li>
<li><a href="https://iswbm.com/685.html" target="_blank">完美解决 gcr.io 镜像下载失败的 4 种方法</a></li>
<li><a href="https://iswbm.com/690.html" target="_blank">Kubernetes 调度利器（一）：标签与选择器（分组调度）</a></li>
<li><a href="https://iswbm.com/692.html" target="_blank">Kubernetes 调度利器（二）：污点与容忍度（压力驱逐）</a></li>
<li><a href="https://iswbm.com/694.html" target="_blank">Kubernetes 调度利器（三）：亲和与反亲和（服务容灾）</a></li>
<li><a href="https://iswbm.com/695.html" target="_blank">详解 K8S 中 kubectl patch 命令 -- strategic、json 和 merge 区别</a></li>
<li><a href="https://iswbm.com/698.html" target="_blank">Go 1.18 系列篇（一）：如何升级 Go 1.18 ？</a></li>
<li><a href="https://iswbm.com/699.html" target="_blank">划时代的 Python 包管理器 -- PDM 局部&amp;全局项目</a></li>                </ul>
            </div>
            <div class="col-md-6">
                <ul>
                                    <li><a href="https://iswbm.com/583.html" title="Python 3.10 新特性（一）：结构模式匹配 match-case 的使用">Python 3.10 新特性（一）：结构模式匹配 match-case 的使用</a></li>
                                    <li><a href="https://iswbm.com/484.html" title="零基础学 Python（90）：Pythonic 代码的 15 个案例">零基础学 Python（90）：Pythonic 代码的 15 个案例</a></li>
                                    <li><a href="https://iswbm.com/165.html" title="超全整理！pipx 安装程序的使用指南">超全整理！pipx 安装程序的使用指南</a></li>
                                    <li><a href="https://iswbm.com/147.html" title="如何挑选笔记本的 CPU ？">如何挑选笔记本的 CPU ？</a></li>
                                    <li><a href="https://iswbm.com/65.html" title="MySQL 使用总结">MySQL 使用总结</a></li>
                                    <li><a href="https://iswbm.com/57.html" title="Python 多继承与Mixin设计模式">Python 多继承与Mixin设计模式</a></li>
                                    <li><a href="https://iswbm.com/425.html" title="零基础学 Python（59）：源码包与二进制包有什么区别？">零基础学 Python（59）：源码包与二进制包有什么区别？</a></li>
                                    <li><a href="https://iswbm.com/707.html" title="读者问：如何让 PyCharm 支持 PDM ？">读者问：如何让 PyCharm 支持 PDM ？</a></li>
                                    <li><a href="https://iswbm.com/55.html" title="理解 Python 元组存在的意义">理解 Python 元组存在的意义</a></li>
                                    <li><a href="https://iswbm.com/448.html" title="个人网站 http 重定向到 https， www 重定向到 non-www 方案">个人网站 http 重定向到 https， www 重定向到 non-www 方案</a></li>
                                </ul>
            </div>
        </div>
    </div>
    <div class="read">
        <div class="read-head"><i class="fas fa-tags"></i> 标签云</div>
        <div class="read-list">
            <a href="https://iswbm.com/tag/cpu" class="tag-cloud-link tag-link-91 tag-link-position-1" style="color:#78ed48;font-size: 9.5664335664336pt;" aria-label="CPU (12个项目);">CPU</a>
<a href="https://iswbm.com/tag/docker" class="tag-cloud-link tag-link-114 tag-link-position-2" style="color:#f33ede;font-size: 9.5664335664336pt;" aria-label="Docker (12个项目);">Docker</a>
<a href="https://iswbm.com/tag/git" class="tag-cloud-link tag-link-85 tag-link-position-3" style="color:#cc3e33;font-size: 11.818181818182pt;" aria-label="Git (21个项目);">Git</a>
<a href="https://iswbm.com/tag/github" class="tag-cloud-link tag-link-41 tag-link-position-4" style="color:#af5fc8;font-size: 13.482517482517pt;" aria-label="Github (31个项目);">Github</a>
<a href="https://iswbm.com/tag/go" class="tag-cloud-link tag-link-138 tag-link-position-5" style="color:#635ad9;font-size: 16.125874125874pt;" aria-label="Go (59个项目);">Go</a>
<a href="https://iswbm.com/tag/golang" class="tag-cloud-link tag-link-29 tag-link-position-6" style="color:#2eff5a;font-size: 16.223776223776pt;" aria-label="Golang (60个项目);">Golang</a>
<a href="https://iswbm.com/tag/google" class="tag-cloud-link tag-link-42 tag-link-position-7" style="color:#8a8b5e;font-size: 9.2727272727273pt;" aria-label="Google (11个项目);">Google</a>
<a href="https://iswbm.com/tag/go%e8%af%ad%e8%a8%80" class="tag-cloud-link tag-link-28 tag-link-position-8" style="color:#bd605a;font-size: 14.755244755245pt;" aria-label="Go语言 (43个项目);">Go语言</a>
<a href="https://iswbm.com/tag/ide" class="tag-cloud-link tag-link-131 tag-link-position-9" style="color:#e83638;font-size: 8pt;" aria-label="IDE (8个项目);">IDE</a>
<a href="https://iswbm.com/tag/k8s" class="tag-cloud-link tag-link-120 tag-link-position-10" style="color:#89bf05;font-size: 9.2727272727273pt;" aria-label="k8s (11个项目);">k8s</a>
<a href="https://iswbm.com/tag/kubernetes" class="tag-cloud-link tag-link-140 tag-link-position-11" style="color:#cc5be;font-size: 10.251748251748pt;" aria-label="Kubernetes (14个项目);">Kubernetes</a>
<a href="https://iswbm.com/tag/linux" class="tag-cloud-link tag-link-14 tag-link-position-12" style="color:#6224e4;font-size: 16.125874125874pt;" aria-label="Linux (59个项目);">Linux</a>
<a href="https://iswbm.com/tag/mac" class="tag-cloud-link tag-link-39 tag-link-position-13" style="color:#1469ed;font-size: 13.188811188811pt;" aria-label="Mac (29个项目);">Mac</a>
<a href="https://iswbm.com/tag/mysql" class="tag-cloud-link tag-link-23 tag-link-position-14" style="color:#d7b91a;font-size: 8.4895104895105pt;" aria-label="MySQL (9个项目);">MySQL</a>
<a href="https://iswbm.com/tag/openstack" class="tag-cloud-link tag-link-77 tag-link-position-15" style="color:#960414;font-size: 8pt;" aria-label="OpenStack (8个项目);">OpenStack</a>
<a href="https://iswbm.com/tag/pip" class="tag-cloud-link tag-link-82 tag-link-position-16" style="color:#b232bb;font-size: 11.230769230769pt;" aria-label="pip (18个项目);">pip</a>
<a href="https://iswbm.com/tag/pycharm" class="tag-cloud-link tag-link-88 tag-link-position-17" style="color:#e139ec;font-size: 10.251748251748pt;" aria-label="PyCharm (14个项目);">PyCharm</a>
<a href="https://iswbm.com/tag/python" class="tag-cloud-link tag-link-2 tag-link-position-18" style="color:#46dd27;font-size: 22pt;" aria-label="Python (238个项目);">Python</a>
<a href="https://iswbm.com/tag/web" class="tag-cloud-link tag-link-25 tag-link-position-19" style="color:#5029bd;font-size: 12.20979020979pt;" aria-label="Web (23个项目);">Web</a>
<a href="https://iswbm.com/tag/windows" class="tag-cloud-link tag-link-44 tag-link-position-20" style="color:#1ff35e;font-size: 8.8811188811189pt;" aria-label="Windows (10个项目);">Windows</a>
<a href="https://iswbm.com/tag/%e5%86%b7%e7%9f%a5%e8%af%86" class="tag-cloud-link tag-link-36 tag-link-position-21" style="color:#b53089;font-size: 8.4895104895105pt;" aria-label="冷知识 (9个项目);">冷知识</a>
<a href="https://iswbm.com/tag/%e5%8d%8f%e7%a8%8b" class="tag-cloud-link tag-link-54 tag-link-position-22" style="color:#db796;font-size: 12.895104895105pt;" aria-label="协程 (27个项目);">协程</a>
<a href="https://iswbm.com/tag/%e5%8d%9a%e5%ae%a2" class="tag-cloud-link tag-link-65 tag-link-position-23" style="color:#e457d7;font-size: 9.958041958042pt;" aria-label="博客 (13个项目);">博客</a>
<a href="https://iswbm.com/tag/%e5%a4%9a%e7%ba%bf%e7%a8%8b" class="tag-cloud-link tag-link-52 tag-link-position-24" style="color:#db6531;font-size: 10.741258741259pt;" aria-label="多线程 (16个项目);">多线程</a>
<a href="https://iswbm.com/tag/%e5%ad%98%e5%82%a8" class="tag-cloud-link tag-link-143 tag-link-position-25" style="color:#4dec65;font-size: 10.447552447552pt;" aria-label="存储 (15个项目);">存储</a>
<a href="https://iswbm.com/tag/%e5%ae%b9%e5%99%a8" class="tag-cloud-link tag-link-115 tag-link-position-26" style="color:#a39bc7;font-size: 10.447552447552pt;" aria-label="容器 (15个项目);">容器</a>
<a href="https://iswbm.com/tag/%e5%b7%a5%e5%85%b7" class="tag-cloud-link tag-link-33 tag-link-position-27" style="color:#4ca48c;font-size: 16.321678321678pt;" aria-label="工具 (62个项目);">工具</a>
<a href="https://iswbm.com/tag/%e5%b9%b6%e5%8f%91" class="tag-cloud-link tag-link-51 tag-link-position-28" style="color:#8e5c38;font-size: 13.286713286713pt;" aria-label="并发 (30个项目);">并发</a>
<a href="https://iswbm.com/tag/%e5%be%ae%e4%bf%a1" class="tag-cloud-link tag-link-101 tag-link-position-29" style="color:#4cf820;font-size: 9.5664335664336pt;" aria-label="微信 (12个项目);">微信</a>
<a href="https://iswbm.com/tag/%e6%95%b0%e6%8d%ae%e5%88%86%e6%9e%90" class="tag-cloud-link tag-link-79 tag-link-position-30" style="color:#b17d51;font-size: 8pt;" aria-label="数据分析 (8个项目);">数据分析</a>
<a href="https://iswbm.com/tag/%e6%95%b0%e6%8d%ae%e5%ba%93" class="tag-cloud-link tag-link-22 tag-link-position-31" style="color:#cc2f8f;font-size: 11.426573426573pt;" aria-label="数据库 (19个项目);">数据库</a>
<a href="https://iswbm.com/tag/%e6%a8%a1%e5%9d%97" class="tag-cloud-link tag-link-30 tag-link-position-32" style="color:#c5e569;font-size: 15.538461538462pt;" aria-label="模块 (51个项目);">模块</a>
<a href="https://iswbm.com/tag/%e6%b5%8b%e8%af%95" class="tag-cloud-link tag-link-17 tag-link-position-33" style="color:#a4bc30;font-size: 14.167832167832pt;" aria-label="测试 (37个项目);">测试</a>
<a href="https://iswbm.com/tag/%e7%82%ab%e6%8a%80" class="tag-cloud-link tag-link-35 tag-link-position-34" style="color:#986dc3;font-size: 8.8811188811189pt;" aria-label="炫技 (10个项目);">炫技</a>
<a href="https://iswbm.com/tag/%e7%ae%97%e6%b3%95" class="tag-cloud-link tag-link-99 tag-link-position-35" style="color:#754532;font-size: 9.5664335664336pt;" aria-label="算法 (12个项目);">算法</a>
<a href="https://iswbm.com/tag/%e7%bc%96%e7%a0%81" class="tag-cloud-link tag-link-37 tag-link-position-36" style="color:#8170a;font-size: 12.503496503497pt;" aria-label="编码 (25个项目);">编码</a>
<a href="https://iswbm.com/tag/%e7%bd%91%e7%ab%99" class="tag-cloud-link tag-link-74 tag-link-position-37" style="color:#c76d1d;font-size: 9.5664335664336pt;" aria-label="网站 (12个项目);">网站</a>
<a href="https://iswbm.com/tag/%e7%bd%91%e7%bb%9c" class="tag-cloud-link tag-link-15 tag-link-position-38" style="color:#ffd090;font-size: 14.363636363636pt;" aria-label="网络 (39个项目);">网络</a>
<a href="https://iswbm.com/tag/%e8%ae%a1%e7%ae%97%e6%9c%ba" class="tag-cloud-link tag-link-20 tag-link-position-39" style="color:#c57764;font-size: 8.4895104895105pt;" aria-label="计算机 (9个项目);">计算机</a>
<a href="https://iswbm.com/tag/%e8%b0%83%e8%af%95" class="tag-cloud-link tag-link-31 tag-link-position-40" style="color:#afa355;font-size: 13.482517482517pt;" aria-label="调试 (31个项目);">调试</a>
<a href="https://iswbm.com/tag/%e8%bd%af%e4%bb%b6" class="tag-cloud-link tag-link-122 tag-link-position-41" style="color:#898f96;font-size: 9.958041958042pt;" aria-label="软件 (13个项目);">软件</a>
<a href="https://iswbm.com/tag/%e8%bf%90%e7%bb%b4" class="tag-cloud-link tag-link-16 tag-link-position-42" style="color:#d23d23;font-size: 8pt;" aria-label="运维 (8个项目);">运维</a>
<a href="https://iswbm.com/tag/%e9%94%81" class="tag-cloud-link tag-link-57 tag-link-position-43" style="color:#11c839;font-size: 10.447552447552pt;" aria-label="锁 (15个项目);">锁</a>
<a href="https://iswbm.com/tag/%e9%98%9f%e5%88%97" class="tag-cloud-link tag-link-59 tag-link-position-44" style="color:#9df983;font-size: 9.5664335664336pt;" aria-label="队列 (12个项目);">队列</a>
<a href="https://iswbm.com/tag/%e9%9d%a2%e8%af%95" class="tag-cloud-link tag-link-155 tag-link-position-45" style="color:#a9f63e;font-size: 12.013986013986pt;" aria-label="面试 (22个项目);">面试</a>        </div>
    </div>
    </section>
</div>

<script src="./01从可迭代、迭代器、生成器到入门协程_files/push.js"></script><script src="./01从可迭代、迭代器、生成器到入门协程_files/hm.js"></script><script src="./01从可迭代、迭代器、生成器到入门协程_files/readmore.js" type="text/javascript"></script>
<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'container',
        blogId: '15406-1644653498904-296',
        name: '写点代码的明哥',
        qrcode: 'http://image.iswbm.com/20220212155716.png',
        keyword: 'more',
    });
</script>

<!--modal-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content single-dashang">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>×</span></button>
                <h4 class="modal-title" id="myModalLabel"><i class="fas fa-gift"></i> 赞赏支持</h4>
            </div>
            <div class="modal-body text-center">
                <p><img src="./01从可迭代、迭代器、生成器到入门协程_files/alipay.png"><img src="./01从可迭代、迭代器、生成器到入门协程_files/wechatpay.png"></p>
                <p>扫描二维码，输入您要赞赏的金额</p>
                <p>赞赏不用多，心意到了即可</p>
            </div>
        </div>
    </div>
</div>
<!--modal-->
<div class="footer_search visible-xs visible-sm">
    <form id="searchform" action="https://iswbm.com/">
        <div class="input-group">
            <input type="search" class="form-control" placeholder="搜索…" value="" name="s">
            <span class="input-group-btn"><button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button></span>
        </div>
    </form>
</div>
<footer id="footer">
    <div class="copyright" style="text-align: center">
 &nbsp; &nbsp; &nbsp; &nbsp;<p><i class="far fa-copyright"></i> 2020-2021 <b>云计算从业者@王炳明 </b> 版权所有 | <a href="http://beian.miit.gov.cn/" target="_blank">闽ICP备19000130号-2</a></p>
 &nbsp; &nbsp; &nbsp; &nbsp;<!--p>Powered by <b>WordPress</b>. Theme by <a href="https://tangjie.me/jiestyle-two" data-toggle="tooltip" data-placement="top" title="WordPress 主题模板" target="_blank"><b>JieStyle Two</b></a> | </p-->
		<script>
			var _hmt = _hmt || [];
			(function() {
			  var hm = document.createElement("script");
			  hm.src = "https://hm.baidu.com/hm.js?21bdd7f0ddea362043914749081a5386";
			  var s = document.getElementsByTagName("script")[0]; 
			  s.parentNode.insertBefore(hm, s);
			})();
		</script>
	</div>
    <div style="display:none;">代码在页面底部，统计标识不会显示，但不影响统计效果</div>
</footer>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/jquery.min.js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/bootstrap.min.js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/skel.min.js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/util.min.js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/nav.js"></script>
<script>
        console.log("\n%c 沃之涛科技 %c https://rbzzz.com \n", "color: #fff;background-image: linear-gradient(90deg, red 0%, red 100%);padding:5px 1px;", "color: #fff;background-image: linear-gradient(90deg, red 0%, rgb(255, 255, 255) 100%);padding:5px 0;width: 200px;display: inline-block;");
        </script><script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/comment-reply.min.js" id="comment-reply-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/jquery.min(1).js" id="jQuery-CDN-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/katex.min.js" id="Katex-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/emojify.min.js" id="Emojify.js-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/clipboard.min.js" id="copy-clipboard-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/prism-core.min.js" id="prism-core-js-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/prism-autoloader.min.js" id="prism-plugin-autoloader-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/prism-toolbar.min.js" id="prism-plugin-toolbar-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/prism-show-language.min.js" id="prism-plugin-show-language-js"></script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/prism-copy-to-clipboard.min.js" id="prism-plugin-copy-to-clipboard-js"></script>
<script type="text/javascript" id="Front_Style-js-extra">
/* <![CDATA[ */
var FrontStyle = {"openLinkInNewTab":"on"};
/* ]]> */
</script>
<script type="text/javascript" src="./01从可迭代、迭代器、生成器到入门协程_files/frontstyle.min.js" id="Front_Style-js"></script>
        <script type="text/javascript">
            (function ($) {
                $(document).ready(function () {
                    $(".katex.math.inline").each(function () {
                        var parent = $(this).parent()[0];
                        if (parent.localName !== "code") {
                            var texTxt = $(this).text();
                            var el = $(this).get(0);
                            try {
                                katex.render(texTxt, el);
                            } catch (err) {
                                $(this).html("<span class=\"err\">" + err);
                            }
                        } else {
                            $(this).parent().text($(this).parent().text());
                        }
                    });
                    $(".katex.math.multi-line").each(function () {
                        var texTxt = $(this).text();
                        var el = $(this).get(0);
                        try {
                            katex.render(texTxt, el, {displayMode: true})
                        } catch (err) {
                            $(this).html("<span class=\"err\">" + err)
                        }
                    });
                })
            })(jQuery);
        </script>
                <script type="text/javascript">
            window.onload = function () {
                emojify.setConfig({
                    img_dir: "https://cdn.jsdelivr.net/wp/wp-editormd/tags/10.2.1/assets/Emojify.js/images/basic",//前端emoji资源地址
                    blacklist: {
                        "ids": [],
                        "classes": ["no-emojify"],
                        "elements": ["^script$", "^textarea$", "^pre$", "^code$"]
                    }
                });
                emojify.run();
            }
        </script>
                <script type="text/javascript">
            Prism.plugins.autoloader.languages_path = "https://cdn.jsdelivr.net/wp/wp-editormd/tags/10.2.1/assets/Prism.js/components/";
        </script>
        <script>
$(function() {
    $('[data-toggle="tooltip"]').tooltip()
});
</script>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<div id="titleBar"><a href="https://iswbm.com/116.html#header" class="toggle"></a><span class="title">明哥教程</span></div></body><div id="night-mask" style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 2147483647;pointer-events: none;mix-blend-mode: multiply;transition: opacity 0.1s ease 0s;opacity:0.11;display:block;background: #000000;"></div></html>